<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="qrichtext" content="1" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Consolas'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1218 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#We will define net transfer as Mjk - Mkj (positive indicates positive net transfer from j to k)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1221)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1222)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1224)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1225)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1227)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1228)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1230 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Mass balance for each compartment</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1229)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1230 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Mass balance for each compartment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1231 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#For water and soil, we also have mass coming in from the pond zone</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1217)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1215 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#initialize</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1216 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#00ffff;">0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1217 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">for</span> kind<span style=" color:#ffff00;">,</span> k <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1218 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#We will define net transfer as Mjk - Mkj (positive indicates positive net transfer from j to k)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1219)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1217 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">for</span> kind<span style=" color:#ffff00;">,</span> k <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1218 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#We will define net transfer as Mjk - Mkj (positive indicates positive net transfer from j to k)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1221)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1222)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1224)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1225)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1227)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1228)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1230 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Mass balance for each compartment</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1229)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1230 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Mass balance for each compartment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1231 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#For water and soil, we also have mass coming in from the pond zone</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1217)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1215 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#initialize</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1216 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#00ffff;">0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1217 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">for</span> kind<span style=" color:#ffff00;">,</span> k <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1218 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#We will define net transfer as Mjk - Mkj (positive indicates positive net transfer from j to k)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1219)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1217 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">for</span> kind<span style=" color:#ffff00;">,</span> k <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1218 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#We will define net transfer as Mjk - Mkj (positive indicates positive net transfer from j to k)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1221)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1222)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1224)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1225)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1227)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1228)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1230 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Mass balance for each compartment</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1229)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1230 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Mass balance for each compartment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1231 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#For water and soil, we also have mass coming in from the pond zone</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1217)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1215 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#initialize</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1216 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#00ffff;">0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1217 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">for</span> kind<span style=" color:#ffff00;">,</span> k <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1218 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#We will define net transfer as Mjk - Mkj (positive indicates positive net transfer from j to k)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1219)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1217 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">for</span> kind<span style=" color:#ffff00;">,</span> k <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1218 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#We will define net transfer as Mjk - Mkj (positive indicates positive net transfer from j to k)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1221)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1222)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1220 </span><span style=" color:#ffff00;">                    </span><span style=" color:#00ff00;">pass</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1221 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">elif</span> k <span style=" color:#ffff00;">!=</span> j<span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1224)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1222 </span><span style=" color:#ffff00;">                    </span>Njk<span style=" color:#ffff00;">,</span>Nkj<span style=" color:#ffff00;">,</span>Mjk<span style=" color:#ffff00;">,</span>Mkj<span style=" color:#ffff00;">,</span>Mnetjk <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'N'</span> <span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1225)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1223 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass into each compartment will berecorded as that compartment's Mjk</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1224 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nkj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1227)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1225 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1228)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1226 </span><span style=" color:#ffff00;">                    </span><span style=" color:#ff0000;">#Mass out per time step.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1230 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Mass balance for each compartment</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1229)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1227 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Njk<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1228 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1229 </span><span style=" color:#ffff00;">                    </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mnetjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjk<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">-</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mkj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1230 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Mass balance for each compartment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1231 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#For water and soil, we also have mass coming in from the pond zone</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1217)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1215 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#initialize</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1216 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#00ffff;">0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1217 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">for</span> kind<span style=" color:#ffff00;">,</span> k <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1218 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#We will define net transfer as Mjk - Mkj (positive indicates positive net transfer from j to k)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1219 </span><span style=" color:#ffff00;">                </span><span style=" color:#00ff00;">if</span> <span style=" color:#ffff00;">(</span><span style=" color:#00bfff;">'Mnet'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>k<span style=" color:#ffff00;">)+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">))</span> <span style=" color:#00ff00;">in</span> mbal<span style=" color:#ffff00;">.</span>columns<span style=" color:#ffff00;">:</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1232)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1230 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Mass balance for each compartment</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1231 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#For water and soil, we also have mass coming in from the pond zone</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1232 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">if</span> j <span style=" color:#00ff00;">in</span> <span style=" color:#00bfff;">'water'</span><span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1233 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Minp'</span><span style=" color:#ffff00;">]=</span>res_time<span style=" color:#ffff00;">.</span>Min_p<span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1234 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]+=</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Minp'</span><span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1238)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1236 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]+=</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Meff'</span><span style=" color:#ffff00;">]+</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mexf'</span><span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1237 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1238 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">elif</span> j <span style=" color:#00ff00;">in</span> <span style=" color:#00bfff;">'subsoil'</span><span style=" color:#ffff00;">:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1239 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Minq'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>Mqin<span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1240 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Minq'</span><span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1242)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1240 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Minq'</span><span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1241 </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1242 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">elif</span> j <span style=" color:#00ff00;">in</span> <span style=" color:#ffff00;">[</span><span style=" color:#00bfff;">'rootbody'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'rootxylem'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'rootcyl'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'shoots'</span><span style=" color:#ffff00;">]:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1243 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#Growth dilution processes - in DT but nowhere else.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1244 </span><span style=" color:#ffff00;">                </span>Nrg_j<span style=" color:#ffff00;">,</span>Mgj <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">&quot;Ng_&quot;</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">&quot;Mg&quot;</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1244)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1242 </span><span style=" color:#ffff00;">            </span><span style=" color:#00ff00;">elif</span> j <span style=" color:#00ff00;">in</span> <span style=" color:#ffff00;">[</span><span style=" color:#00bfff;">'rootbody'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'rootxylem'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'rootcyl'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'shoots'</span><span style=" color:#ffff00;">]:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1243 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#Growth dilution processes - in DT but nowhere else.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1244 </span><span style=" color:#ffff00;">                </span>Nrg_j<span style=" color:#ffff00;">,</span>Mgj <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">&quot;Ng_&quot;</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">&quot;Mg&quot;</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1245 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nrg_j<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1246 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1245)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1243 </span><span style=" color:#ffff00;">                </span><span style=" color:#ff0000;">#Growth dilution processes - in DT but nowhere else.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1244 </span><span style=" color:#ffff00;">                </span>Nrg_j<span style=" color:#ffff00;">,</span>Mgj <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">&quot;Ng_&quot;</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">&quot;Mg&quot;</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1245 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nrg_j<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1246 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1247 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mout'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">).</span>cumsum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1246)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1244 </span><span style=" color:#ffff00;">                </span>Nrg_j<span style=" color:#ffff00;">,</span>Mgj <span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">&quot;Ng_&quot;</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">&quot;Mg&quot;</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1245 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nrg_j<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1246 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1247 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mout'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">).</span>cumsum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1248 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1247)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1245 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nrg_j<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1246 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1247 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mout'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">).</span>cumsum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1248 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1249 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mdistj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mj<span style=" color:#ffff00;">]/</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mtot'</span><span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1248)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1246 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1247 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mout'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">).</span>cumsum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1248 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1249 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mdistj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mj<span style=" color:#ffff00;">]/</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mtot'</span><span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1250 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mbalj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()-</span>res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">().</span>shift<span style=" color:#ffff00;">(</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">)</span><span style=" color:#8b0000;">\</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1249)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1247 </span><span style=" color:#ffff00;">                </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mout'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mgj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">).</span>cumsum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1248 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1249 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mdistj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mj<span style=" color:#ffff00;">]/</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mtot'</span><span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1250 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mbalj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()-</span>res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">().</span>shift<span style=" color:#ffff00;">(</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">)</span><span style=" color:#8b0000;">\</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1251 </span><span style=" color:#ffff00;">                                -</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]+</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1251)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1249 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mdistj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mj<span style=" color:#ffff00;">]/</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mtot'</span><span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1250 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mbalj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()-</span>res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">().</span>shift<span style=" color:#ffff00;">(</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">)</span><span style=" color:#8b0000;">\</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1251 </span><span style=" color:#ffff00;">                                -</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]+</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1252 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[(</span>slice<span style=" color:#ffff00;">(</span><span style=" color:#00ff00;">None</span><span style=" color:#ffff00;">),</span>min<span style=" color:#ffff00;">(</span>mbal<span style=" color:#ffff00;">.</span>index<span style=" color:#ffff00;">.</span>levels<span style=" color:#ffff00;">[</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">])),</span>Mbalj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#00ffff;">0.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1253 </span><span style=" color:#ffff00;">        </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Min'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>Min<span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">().</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">).</span>cumsum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1252)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1250 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mbalj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()-</span>res_time<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mjind<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">().</span>shift<span style=" color:#ffff00;">(</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">)</span><span style=" color:#8b0000;">\</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1251 </span><span style=" color:#ffff00;">                                -</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Minj<span style=" color:#ffff00;">]+</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1252 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[(</span>slice<span style=" color:#ffff00;">(</span><span style=" color:#00ff00;">None</span><span style=" color:#ffff00;">),</span>min<span style=" color:#ffff00;">(</span>mbal<span style=" color:#ffff00;">.</span>index<span style=" color:#ffff00;">.</span>levels<span style=" color:#ffff00;">[</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">])),</span>Mbalj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#00ffff;">0.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1253 </span><span style=" color:#ffff00;">        </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Min'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>Min<span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">().</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">).</span>cumsum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1254 </span><span style=" color:#ffff00;">        </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mbal'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mout'</span><span style=" color:#ffff00;">]+</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mtot'</span><span style=" color:#ffff00;">])/</span>mbal<span style=" color:#ffff00;">.</span>Min</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1205)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1203 </span><span style=" color:#ffff00;">        </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mtot'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> res_time<span style=" color:#ffff00;">.</span>M_tot<span style=" color:#ffff00;">.</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1204 </span><span style=" color:#ffff00;">        </span><span style=" color:#ff0000;">#mbal.loc[:,'Mbal2'] = 0.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1205 </span><span style=" color:#ffff00;">        </span><span style=" color:#00ff00;">for</span> jind<span style=" color:#ffff00;">,</span> j <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span><span style=" color:#ff0000;">#j is compartment mass is leaving</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1206 </span><span style=" color:#ffff00;">            </span>jind <span style=" color:#ffff00;">=</span> jind<span style=" color:#ffff00;">+</span><span style=" color:#00ffff;">1</span> <span style=" color:#ff0000;">#The compartment number, for overall &amp; intercompartmental D values</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1207 </span><span style=" color:#ffff00;">            </span>Nrj<span style=" color:#ffff00;">,</span>Nadvj<span style=" color:#ffff00;">,</span>Moutj<span style=" color:#ffff00;">,</span>Mbalj<span style=" color:#ffff00;">,</span>Mjind<span style=" color:#ffff00;">,</span>Mj<span style=" color:#ffff00;">,</span>Mdistj<span style=" color:#ffff00;">,</span>Minj<span style=" color:#ffff00;">,</span>Madvj<span style=" color:#ffff00;">,</span>Mrj<span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'Nr'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Nadv'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mout'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mbal'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#8b0000;">\</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1206)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1204 </span><span style=" color:#ffff00;">        </span><span style=" color:#ff0000;">#mbal.loc[:,'Mbal2'] = 0.0</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1205 </span><span style=" color:#ffff00;">        </span><span style=" color:#00ff00;">for</span> jind<span style=" color:#ffff00;">,</span> j <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span><span style=" color:#ff0000;">#j is compartment mass is leaving</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1206 </span><span style=" color:#ffff00;">            </span>jind <span style=" color:#ffff00;">=</span> jind<span style=" color:#ffff00;">+</span><span style=" color:#00ffff;">1</span> <span style=" color:#ff0000;">#The compartment number, for overall &amp; intercompartmental D values</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1207 </span><span style=" color:#ffff00;">            </span>Nrj<span style=" color:#ffff00;">,</span>Nadvj<span style=" color:#ffff00;">,</span>Moutj<span style=" color:#ffff00;">,</span>Mbalj<span style=" color:#ffff00;">,</span>Mjind<span style=" color:#ffff00;">,</span>Mj<span style=" color:#ffff00;">,</span>Mdistj<span style=" color:#ffff00;">,</span>Minj<span style=" color:#ffff00;">,</span>Madvj<span style=" color:#ffff00;">,</span>Mrj<span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'Nr'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Nadv'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mout'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mbal'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#8b0000;">\</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1208 </span><span style=" color:#ffff00;">                </span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>jind<span style=" color:#ffff00;">)+</span><span style=" color:#00bfff;">'_t1'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mdist'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Min'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Madv'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mr'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1207)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1205 </span><span style=" color:#ffff00;">        </span><span style=" color:#00ff00;">for</span> jind<span style=" color:#ffff00;">,</span> j <span style=" color:#00ff00;">in</span> enumerate<span style=" color:#ffff00;">(</span>numc<span style=" color:#ffff00;">):</span><span style=" color:#ff0000;">#j is compartment mass is leaving</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1206 </span><span style=" color:#ffff00;">            </span>jind <span style=" color:#ffff00;">=</span> jind<span style=" color:#ffff00;">+</span><span style=" color:#00ffff;">1</span> <span style=" color:#ff0000;">#The compartment number, for overall &amp; intercompartmental D values</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1207 </span><span style=" color:#ffff00;">            </span>Nrj<span style=" color:#ffff00;">,</span>Nadvj<span style=" color:#ffff00;">,</span>Moutj<span style=" color:#ffff00;">,</span>Mbalj<span style=" color:#ffff00;">,</span>Mjind<span style=" color:#ffff00;">,</span>Mj<span style=" color:#ffff00;">,</span>Mdistj<span style=" color:#ffff00;">,</span>Minj<span style=" color:#ffff00;">,</span>Madvj<span style=" color:#ffff00;">,</span>Mrj<span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'Nr'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Nadv'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mout'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mbal'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#8b0000;">\</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1208 </span><span style=" color:#ffff00;">                </span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>jind<span style=" color:#ffff00;">)+</span><span style=" color:#00bfff;">'_t1'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mdist'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Min'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Madv'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mr'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1209 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Moutj here gives the mass out of the entire system.</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1208)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1206 </span><span style=" color:#ffff00;">            </span>jind <span style=" color:#ffff00;">=</span> jind<span style=" color:#ffff00;">+</span><span style=" color:#00ffff;">1</span> <span style=" color:#ff0000;">#The compartment number, for overall &amp; intercompartmental D values</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1207 </span><span style=" color:#ffff00;">            </span>Nrj<span style=" color:#ffff00;">,</span>Nadvj<span style=" color:#ffff00;">,</span>Moutj<span style=" color:#ffff00;">,</span>Mbalj<span style=" color:#ffff00;">,</span>Mjind<span style=" color:#ffff00;">,</span>Mj<span style=" color:#ffff00;">,</span>Mdistj<span style=" color:#ffff00;">,</span>Minj<span style=" color:#ffff00;">,</span>Madvj<span style=" color:#ffff00;">,</span>Mrj<span style=" color:#ffff00;">=</span> <span style=" color:#00bfff;">'Nr'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Nadv'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mout'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mbal'</span> <span style=" color:#ffff00;">+</span> str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#8b0000;">\</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1208 </span><span style=" color:#ffff00;">                </span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>jind<span style=" color:#ffff00;">)+</span><span style=" color:#00bfff;">'_t1'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mdist'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Min'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Madv'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mr'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1209 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Moutj here gives the mass out of the entire system.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1210 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mrj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nrj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1210)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1208 </span><span style=" color:#ffff00;">                </span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>jind<span style=" color:#ffff00;">)+</span><span style=" color:#00bfff;">'_t1'</span><span style=" color:#ffff00;">,</span><span style=" color:#00bfff;">'M'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mdist'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Min'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Madv'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">),</span><span style=" color:#00bfff;">'Mr'</span><span style=" color:#ffff00;">+</span>str<span style=" color:#ffff00;">(</span>j<span style=" color:#ffff00;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1209 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Moutj here gives the mass out of the entire system.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1210 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mrj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nrj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1211 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Madvj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nadvj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1212 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mrj<span style=" color:#ffff00;">]+</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Madvj<span style=" color:#ffff00;">]</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1211)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1209 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Moutj here gives the mass out of the entire system.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1210 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mrj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nrj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1211 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Madvj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nadvj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1212 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mrj<span style=" color:#ffff00;">]+</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Madvj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1213 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Total mass out of system - cumulative</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">&gt; <span style=" color:#00ff00;">d:\users\tim rodgers\documents\github\bioretentionblues\subsurface_sinks.py</span>(1212)<span style=" color:#4682b4;">mass_balance</span><span style=" color:#00bfff;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1210 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mrj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nrj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1211 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Madvj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> <span style=" color:#ffff00;">(</span>mass_flux<span style=" color:#ffff00;">.</span>dt<span style=" color:#ffff00;">*</span>mass_flux<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Nadvj<span style=" color:#ffff00;">]).</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=[</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">,</span><span style=" color:#00ffff;">1</span><span style=" color:#ffff00;">]).</span>sum<span style=" color:#ffff00;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">-&gt; 1212 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Moutj<span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mrj<span style=" color:#ffff00;">]+</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Madvj<span style=" color:#ffff00;">]</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1213 </span><span style=" color:#ffff00;">            </span><span style=" color:#ff0000;">#Total mass out of system - cumulative</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">   1214 </span><span style=" color:#ffff00;">            </span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span><span style=" color:#00bfff;">'Mout'</span><span style=" color:#ffff00;">]</span> <span style=" color:#ffff00;">+=</span> mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Mrj<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">).</span>cumsum<span style=" color:#ffff00;">()+</span>mbal<span style=" color:#ffff00;">.</span>loc<span style=" color:#ffff00;">[:,</span>Madvj<span style=" color:#ffff00;">].</span>groupby<span style=" color:#ffff00;">(</span>level<span style=" color:#ffff00;">=</span><span style=" color:#00ffff;">0</span><span style=" color:#ffff00;">).</span>cumsum<span style=" color:#ffff00;">()</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ipdb&gt; c</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">In [</span><span style=" font-weight:600; color:#00ff00;">178</span><span style=" color:#00ff00;">]:</span> mbal.loc[mbal.Min==0,'Mbal'] = 1</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">In [</span><span style=" font-weight:600; color:#00ff00;">179</span><span style=" color:#00ff00;">]:</span> np.sum(mbal.loc[:,'Mbal']!=1)</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#ff0000;">Out[</span><span style=" font-weight:600; color:#ff0000;">179</span><span style=" color:#ff0000;">]:</span> 1610</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">In [</span><span style=" font-weight:600; color:#00ff00;">180</span><span style=" color:#00ff00;">]:</span> np.sum(round(mbal.loc[:,'Mbal'],5)!=1)</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#ff0000;">Out[</span><span style=" font-weight:600; color:#ff0000;">180</span><span style=" color:#ff0000;">]:</span> 0</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">In [</span><span style=" font-weight:600; color:#00ff00;">181</span><span style=" color:#00ff00;">]:</span> np.sum(round(mbal.loc[:,'Mbal'],10)!=1)</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#ff0000;">Out[</span><span style=" font-weight:600; color:#ff0000;">181</span><span style=" color:#ff0000;">]:</span> 0</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">In [</span><span style=" font-weight:600; color:#00ff00;">182</span><span style=" color:#00ff00;">]:</span> np.sum(round(mbal.loc[:,'Mbal'],20)!=1)</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#ff0000;">Out[</span><span style=" font-weight:600; color:#ff0000;">182</span><span style=" color:#ff0000;">]:</span> 1610</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" color:#00ff00;">In [</span><span style=" font-weight:600; color:#00ff00;">183</span><span style=" color:#00ff00;">]:</span> mbal_cum = test.mass_balance_cumulative(numc, mass_balance = mbal)</p></body></html>